<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Nanpa_Picks</title>
    <meta http-equiv="Content-Type"
          content="text/html; charset=UTF-8" />
    <link rel="stylesheet" media="all" th:href="@{/css/application.css}" />
    <link rel="stylesheet" media="all" th:href="@{/css/articles.css}" />
    <link rel="stylesheet" media="all" th:href="@{/webjars/bootstrap/4.3.1/css/bootstrap.css}" />
</head>
<body>
    <div th:insert="~{header :: copy}"></div>

    <div class="contents container">
        <div class="selected-article">
            <div class="row">
                <div class="selected-article-image col-sm-12">
                    <img th:src="${response.articleModel.imageUrl}" th:height="100" th:width="100"/>
                </div>
                <div class="selected-article-title col-sm-12" th:text="${response.articleModel.title}"></div>

                <div class="selected-article-next col-sm-12">
                    <a th:href="@{${response.articleModel.url}}">続きを読む</a>
                </div>
            </div>
        </div>
        <div class="comment-form">
            <div class="form">
                <form method="post" th:action="@{'/comment/create'}" th:object="${commentCreateForm}" class="row">
                    <input type="hidden" name="articleId" th:value="${response.articleModel.id}">
                    <div class="form-group col-sm-10">
                        <textarea placeholder="コメントする" class="form-control" name="comment"></textarea>
                    </div>
                    <input class="btn btn-primary col-sm-2" type="submit" value="投稿する" />
                </form>
                <div th:if="${contentError != null}" th:text="${contentError.defaultMessage}"></div>
            </div>
        </div>
        <div class="comments">
            <div class="comment" th:each="comment: ${response.articleModel.commentList}">
                <img th:src="${comment.user.imageUrl}" th:height="50" th:width="50"/>
                <div th:text="${comment.user.name}"></div>
                <div th:text="${comment.content}"></div>
                <a href="comments/deleteForm.html" th:href="@{/comment/delete/{commentId}(commentId=${comment.id})}">削除</a>
            </div>
        </div>
    </div>

    <div th:insert="~{footer :: copy}"></div>
</body>
</html>